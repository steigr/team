# set -x

_lib_var_name() {
  echo "_$(echo $1 | tr "[:lower:]" "[:upper:]")_LIB"
}

_lib_var() {
  n=$(_lib_var_name $1)
  echo ${!n}
}

_loaded() {
  export $(_lib_var_name $1)=true
}

_load() {
  [[ "x$(_lib_var $1)" = "xtrue" ]] || . $TEAM_LIB/$1.lib
  _loaded $1
}

require() {
  _load $1
}